{% extends 'base.html' %}
{% block content %}
<div class="row justify-content-center">
  <div class="col-md-6">
    <h3>登录</h3>
    <form method="post">
      {% csrf_token %}
      {{ form.username.label_tag }}{{ form.username }}{% for err in form.username.errors %}<div class="text-danger">{{ err }}</div>{% endfor %}
      {{ form.password.label_tag }}{{ form.password }}{% for err in form.password.errors %}<div class="text-danger">{{ err }}</div>{% endfor %}
    <br>
      <div class="mb-3">
        <img id="captcha_img" src="{% url 'captcha' %}" alt="验证码">
        <a href="#" onclick="document.getElementById('captcha_img').src='{% url 'captcha' %}?'+Math.random();return false;">换一张</a>
      </div>
    {{ form.captcha }}{% for err in form.captcha.errors %}<div class="text-danger">{{ err }}</div>{% endfor %}
      <div class="mt-2"><a href="{% url 'reset_password' %}">忘记密码？</a></div>
      <button class="btn btn-primary mt-3" type="submit">登录</button>
    </form>
  </div>
</div>
{% endblock %}